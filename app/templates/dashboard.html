{% extends "base.html" %}

{% block title %}Dashboard | EcoTrack{% endblock %}

{% block content %}
<div>
  <!-- Emission Goal -->
  <section class="emission-goal"
    style="background-image: url('{{ url_for('static', filename='assets/images/dashboard_image.png') }}'); background-size: cover; background-position: center;">
    <div class="emission-content">
      <div class="progress-circle relative w-[150px] h-[75px] mx-auto mb-4">
        <svg viewBox="0 0 200 100" class="w-full h-full">
          <!-- Background arc -->
          <path d="M10 100 A90 90 0 0 1 190 100" fill="none" stroke="white" stroke-opacity="0.2" stroke-width="20" />
          <!-- Foreground arc -->
          <path id="gauge-arc" d="M10 100 A90 90 0 0 1 190 100" fill="none" stroke="white" stroke-width="20"
            stroke-dasharray="282.743" stroke-dashoffset="282.743" stroke-linecap="round" />
        </svg>
        <div id="progress-text"
          class="absolute inset-0 top-8 flex justify-center items-center text-xl font-bold text-white">
          Loading...
        </div>
      </div>
      <div class="emission-details">
        <h2 class="text-2xl font-semibold mb-2">Your Footprint</h2>
        <p id="emitted-total" class="text-lg">Loading...</p>
        <p id="saved-total" class="text-lg">Loading...</p>
      </div>
    </div>
  </section>

  <!-- Category Cards -->
  <section class="category-cards">
    <!-- Travel -->
    <div class="category-card">
      <h3 class="category-heading">ğŸšŒ Travel</h3>
      <div class="progress-bar">
        <div id="travel-progress" class="progress-bar-fill w-[0%]"></div>
      </div>
      <p id="travel-fraction" class="category-description">0%</p>
      <p id="travel-emitted" class="category-description">Loading...</p>
    </div>

    <!-- Home -->
    <div class="category-card">
      <h3 class="category-heading">ğŸ  Home</h3>
      <div class="progress-bar">
        <div id="home-progress" class="progress-bar-fill w-[0%]"></div>
      </div>
      <p id="home-fraction" class="category-description">0%</p>
      <p id="home-emitted" class="category-description">Loading...</p>
    </div>

    <!-- Food -->
    <div class="category-card">
      <h3 class="category-heading">ğŸ” Food</h3>
      <div class="progress-bar">
        <div id="food-progress" class="progress-bar-fill w-[0%]"></div>
      </div>
      <p id="food-fraction" class="category-description">0%</p>
      <p id="food-emitted" class="category-description">Loading...</p>
    </div>

    <!-- Shopping -->
    <div class="category-card">
      <h3 class="category-heading">ğŸ›ï¸ Shopping</h3>
      <div class="progress-bar">
        <div id="shopping-progress" class="progress-bar-fill w-[0%]"></div>
      </div>
      <p id="shopping-fraction" class="category-description">0%</p>
      <p id="shopping-emitted" class="category-description">Loading...</p>
    </div>
  </section>
</div>

<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}