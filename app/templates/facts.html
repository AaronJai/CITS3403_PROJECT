{% extends "base.html" %}

{% block title %}Facts | EcoTrack{% endblock %}

{% block head %}

<style>
  /* Zoom effect for news cards */
  .zoom {
    transition: transform 0.2s;
  }

  .zoom:hover {
    transform: scale(1.01);
  }
</style>

<script defer>
  // Fetch live environmental news
  document.addEventListener("DOMContentLoaded", function () {
    fetch("https://api.rss2json.com/v1/api.json?rss_url=http://feeds.bbci.co.uk/news/science_and_environment/rss.xml")
      .then((res) => res.json())
      .then((data) => {
        const news = data.items.slice(0, 4).map((item) => {
          let thumbnail = item.thumbnail ? item.thumbnail : "https://cdn-icons-png.flaticon.com/512/2909/2909594.png";
          return `
            <div class="bg-white p-4 rounded-lg shadow mb-4 zoom flex">
              <a href="${item.link}" target="_blank" class="text-xl font-bold text-green-900 hover:underline">
                <img src="${thumbnail}" alt="News Thumbnail" class="w-24 h-24 object-cover rounded-lg mr-4 flex-shrink-0">
              </a>
              <div class="flex flex-col">
                <a href="${item.link}" target="_blank" class="text-xl font-bold text-green-900 hover:underline">
                ${item.title}
                </a>
                <p class="text-sm text-gray-600 mt-1">${new Date(item.pubDate).toLocaleDateString()}</p>
                <p class="text-gray-700 mt-2 leading-relaxed">${item.description.split(" ").slice(0, 25).join(" ")}...</p>
              </div>
            </div>
          `}).join("");

        document.getElementById("news-feed").innerHTML = news;
      });
  });
</script>
{% endblock %}

{% block content %}
<div class="space-y-7">

  <!-- About Us -->
  <section class="bg-white rounded-2xl shadow p-8">
    <h2 class="text-2xl font-bold text-green-900 mb-6">üåé About EcoTrack</h2>
    <p class="text-gray-700 leading-relaxed">
      <strong>EcoTrack</strong> is a personal sustainability companion designed to help individuals
      understand, measure, and reduce their environmental impact. Whether you're tracking your
      transport emissions, energy usage, or food footprint, EcoTrack gives you the tools and insights
      to make smarter, greener decisions every day.
    </p>
    <p class="text-gray-700 mt-4 leading-relaxed">
      By combining live environmental news, educational facts, and interactive data, our goal is to
      empower users to take meaningful action for the planet ‚Äî one step, one choice, and one fact at a time.
    </p>
  </section>

  <!-- Live News Feed -->
  <section class="bg-white rounded-2xl shadow p-8">
    <h2 class="text-2xl font-bold text-green-900 mb-6">üì∞ Latest Environmental News</h2>
    <div id="news-feed" class="space-y-4"></div>
  </section>

  <!-- Static Environmental Facts -->
  <!-- Category Cards -->
  <section class="category-cards">
    <!-- Trees -->
    <div class="category-card">
      <h3 class="category-heading">
        <a href="https://ecotree.green/en/how-much-co2-does-a-tree-absorb" target="_blank"
          class="hover:underline text-black-800">
          üåø Trees absorb CO‚ÇÇ
        </a>
      </h3>
      <p class="category-description">
        One mature tree can absorb up to 22kg of CO‚ÇÇ per year, thats roughly 1 ton over 40 years.
      </p>
      <p class="category-description">
        The Amazon Rainforest alone stores over 76 billion tonnes of carbon ‚Äî acting as a global climate buffer.
      </p>
    </div>

    <!-- Transport -->
    <div class="category-card">
      <h3 class="category-heading">
        <a href="https://www.dcceew.gov.au/energy/transport" target="_blank" class="hover:underline text-black-800">
          üöó Transport Emmissions
        </a>
      </h3>
      <p class="category-description">
        Transport accounts for ~25% of global CO‚ÇÇ emissions.
      </p>
      <p class="category-description">
        Switching from car to bike just once a day can reduce a person's transport emissions by 67%.
      </p>
    </div>

    <!-- Energy Use -->
    <div class="category-card">
      <h3 class="category-heading">
        <a href="https://www.iea.org/reports/co2-emissions-in-2022" target="_blank"
          class="hover:underline text-black-800">
          ‚ö° Energy Use
        </a>
      </h3>
      <p class="category-description">
        LED light bulbs use up to 85% less energy and last 25x longer than traditional incandescent bulbs.
      </p>
      <p class="category-description">
        Around 80% of global energy still comes from fossil fuels ‚Äî coal, oil, and gas ‚Äî despite the rise of renewables.
      </p>
    </div>

    <!-- Food Footprint -->
    <div class="category-card">
      <h3 class="category-heading">
        <a href="https://ourworldindata.org/food-choice-vs-eating-local" target="_blank"
          class="hover:underline text-black-800">
          üçîFootprint
        </a>
      </h3>
      <p class="category-description">
        Producing 1kg of beef emits over 27kg of CO‚ÇÇ, more than driving a petrol car for over 100Km.
      </p>
      <p class="category-description">
        A vegan diet can reduce an individual's carbon footprint by up to 50% compared to a meat-based diet.
      </p>
    </div>
  </section>
</div>
{% endblock %}