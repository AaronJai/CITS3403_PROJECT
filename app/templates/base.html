<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{% block title %}{% endblock %}</title>

  <!-- Link to Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='assets/favicon.ico') }}" type="image/x-icon" />
  <link href="{{ url_for('static', filename='css/output.css') }}" rel="stylesheet" />
  <script src="{{ url_for('static', filename='js/flash-alerts.js') }}"></script>

  {% block head %} {% endblock %}
</head>

<body>
  <!-- Include shadcn-style Flash messages -->
  {% include 'components/alerts/flash.html' %}

  <main class="flex min-h-screen">
    <!-- Header -->
    {% include 'components/header.html' %}

    <!-- Sidebar -->
    {% include 'components/sidebar.html' %}

    <!-- Main content -->
    <div class="flex-1 overflow-y-auto">
      <!-- New grey container -->
      <div class="main-container">{% block content %} {% endblock %}</div>
    </div>
  </main>

  <script>
    // Handle locked navigation items
    document.addEventListener('DOMContentLoaded', function () {
      // Handle sidebar locked items
      const lockedItems = document.querySelectorAll('.sidebar-nav-item.locked a, .mobile-nav-item.locked');
      lockedItems.forEach(item => {
        item.addEventListener('click', function (e) {
          e.preventDefault(); // Prevent navigation
          // We don't need to do anything else as the server will redirect to the add_data route
        });
      });
    });
  </script>
</body>

</html>