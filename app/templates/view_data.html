{% extends "base.html" %}

{% block title %}View Data | EcoTrack{% endblock %}

{% block content %}

<!-- Background Section -->
<div class="relative min-h-screen flex">

  <!-- Left Side -->
  <div class="w-2/3 relative rounded-2xl m-4 p-4 flex items-center justify-center overflow-hidden" 
       style="background: linear-gradient(to bottom, #d6f0ec, #f8fae8)">
    
    <!-- Grass Background -->
    <img src="/static/assets/images/grass.png" 
         class="absolute bottom-0 left-0 w-full object-contain z-0" 
         alt="Grass Background" />
    
    <!-- Small cloud on the left -->
    <img src="/static/assets/images/cloud1.png"
         class="absolute top-10 left-8 w-36 opacity-80 float-cloud-small z-10" 
         alt="Cloud 1" />

    <!-- Small cloud slightly to the right -->
    <img src="/static/assets/images/cloud2.png"
         class="absolute top-16 left-25 w-28 opacity-70 float-cloud-small z-10"
         alt="Cloud 2" />

    <!-- Largest cloud on the right edge -->
    <img src="/static/assets/images/cloud3.png"
         class="absolute top-6 right-0 w-60 opacity-90 float-cloud-big z-10"
         alt="Cloud 3" />

    <!-- Main Chart -->
    <canvas id="myChart" class="w-full h-full relative z-10"></canvas>
  </div>

  <!-- Right Side -->
  <div class="w-1/3 flex flex-col gap-4 m-4">

    <!-- Summary Section -->
    <div class="flex-1 bg-white/60 backdrop-blur-md rounded-3xl shadow-2xl p-8 flex flex-col items-center justify-center">
      <h2 class="text-3xl font-bold text-[#16372c] text-center">
        Total Emissions
      </h2>
      <p class="text-[#555555] text-lg mt-2">
        12.5 metric tons CO₂/year
      </p>
    </div>
  
    <!-- Share Section -->
    <div class="flex-1 bg-white/60 backdrop-blur-md rounded-3xl shadow-2xl p-8 flex flex-col items-center justify-center gap-4">
      <h2 class="text-2xl font-bold text-[#16372c]">Share</h2>
      <p class="text-gray-600 text-center">
        Share your results with friends!
      </p>
      <div class="flex gap-4">
        <!-- Placeholder for share buttons -->
        <div class="w-12 h-12 bg-[#16372c] rounded-full transition transform hover:scale-110"></div>
        <div class="w-12 h-12 bg-[#2f5c47] rounded-full transition transform hover:scale-110"></div>
        <div class="w-12 h-12 bg-[#497f66] rounded-full transition transform hover:scale-110"></div>
      </div>
    </div>

  </div>

</div>

<!-- Charts & Suggestions -->
<div class="bg-white relative rounded-2xl w-full h-[600px] p-6 shadow-2xl flex flex-row overflow-hidden">

  <div class="relative w-full h-[400px]">
    <canvas id="travelPieChart" class="w-full h-full"></canvas>
    <canvas id="homePieChart" class="w-full h-full hidden"></canvas>
    <canvas id="foodPieChart" class="w-full h-full hidden"></canvas>
    <canvas id="shoppingPieChart" class="w-full h-full hidden"></canvas>
  </div>
  


  <!-- Right content -->
  <div class="flex-[1] flex flex-col gap-4 p-4 bg-white">



  <!-- Buttons -->
  <div class="flex border-b border-gray-300 space-x-4">
    <button onclick="showTab(0)" class="tab-btn px-4 py-2 text-sm font-semibold">Travel</button>
    <button onclick="showTab(1)" class="tab-btn px-4 py-2 text-sm font-semibold">Home</button>
    <button onclick="showTab(2)" class="tab-btn px-4 py-2 text-sm font-semibold">Food</button>
    <button onclick="showTab(3)" class="tab-btn px-4 py-2 text-sm font-semibold">Shopping</button>
  </div>

  <!-- Chart Summary -->
  <div id="tabContent0" class="tab-content">
    <p>🚌 Travel insights here...</p>
  </div>
  <div id="tabContent1" class="tab-content hidden">
    <p>🏠 Home energy info...</p>
  </div>
  <div id="tabContent2" class="tab-content hidden">
    <p>🍔 Food-related suggestions...</p>
  </div>
  <div id="tabContent3" class="tab-content hidden">
    <p>🛍️ Goods & Services summary...</p>
  </div>

    <!-- Suggestions -->
    <div class="bg-green-100 rounded-xl p-4 mt-auto">
      <h3 class="font-bold text-[#16372c] text-base">What you can do about it</h3>
      <p class="text-sm text-gray-700 mt-1">
        Take small actions to offset your footprint or support carbon restoration.
      </p>
    </div>

  </div>

</div>


<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script> <!-- Load Chart.js Plugin -->
<script src="{{ url_for('static', filename='js/view_data.js') }}"></script> <!-- Load Custom JS -->

{% endblock %}