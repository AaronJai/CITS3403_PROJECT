{% extends "base.html" %}

{% block title %}View Data | EcoTrack{% endblock %}

{% block content %}

<!-- Background Section -->
<div class="relative min-h-screen flex">

  <!-- Left Side -->
  <div class="w-2/3 relative rounded-2xl m-4 p-4 flex items-center justify-center overflow-hidden" 
       style="background: linear-gradient(to bottom, #d6f0ec, #f8fae8)">
    
    <!-- Grass Background -->
    <img src="/static/assets/images/grass.png" 
         class="absolute bottom-0 left-0 w-full object-contain z-0" 
         alt="Grass Background" />
    
    <!-- Small cloud on the left -->
    <img src="/static/assets/images/cloud1.png"
         class="absolute top-10 left-8 w-36 opacity-80 float-cloud-small z-10" 
         alt="Cloud 1" />

    <!-- Small cloud slightly to the right -->
    <img src="/static/assets/images/cloud2.png"
         class="absolute top-16 left-25 w-28 opacity-70 float-cloud-small z-10"
         alt="Cloud 2" />

    <!-- Largest cloud on the right edge -->
    <img src="/static/assets/images/cloud3.png"
         class="absolute top-6 right-0 w-60 opacity-90 float-cloud-big z-10"
         alt="Cloud 3" />

    <!-- Main Chart -->
    <canvas id="myChart" class="w-full h-full relative z-10"></canvas>
  </div>

  <!-- Right Side -->
  <div class="w-1/3 flex flex-col gap-4 m-4">

    <!-- Summary Section -->
    <div class="flex-1 bg-white/60 backdrop-blur-md rounded-3xl shadow-2xl p-8 flex flex-col items-center justify-center">
      <h2 class="text-3xl font-bold text-[#16372c] text-center">
        Total Emissions
      </h2>
      <p class="text-[#555555] text-lg mt-2">
        12.5 metric tons COâ‚‚/year
      </p>
    </div>
  
    <!-- Share Section -->
    <div class="flex-1 bg-white/60 backdrop-blur-md rounded-3xl shadow-2xl p-8 flex flex-col items-center justify-center gap-4">
      <h2 class="text-2xl font-bold text-[#16372c]">Share</h2>
      <p class="text-gray-600 text-center">
        Share your results with friends!
      </p>
      <div class="flex gap-4">
        <!-- Placeholder for share buttons -->
        <div class="w-12 h-12 bg-[#16372c] rounded-full transition transform hover:scale-110"></div>
        <div class="w-12 h-12 bg-[#2f5c47] rounded-full transition transform hover:scale-110"></div>
        <div class="w-12 h-12 bg-[#497f66] rounded-full transition transform hover:scale-110"></div>
      </div>
    </div>

  </div>

</div>

<!-- Grid Section -->
<div class="grid grid-cols-2 grid-rows-2 min-h-screen gap-4 p-4">

  <!-- Top Left: Travel -->
  <div class="relative rounded-xl shadow p-6 flex flex-col items-center overflow-hidden bg-gradient-to-t from-[#b3e2dd] to-[#f4f6d3]">
    <!-- Title -->
    <h2 class="text-lg font-semibold mb-4 z-10 relative">Travel</h2>
    <!-- Chart Container -->
    <div class="relative w-48 h-48 z-10">
      <canvas id="travelPieChart" class="absolute top-0 left-0 w-full h-full"></canvas>
    </div>
    <!-- Background Image -->
    <img
      src="/static/assets/images/spring.png" 
      class="absolute bottom-0 left-0 w-full object-contain z-0 pointer-events-none"
      alt="Travel Background"
    />
  </div>

  <!-- Top Right: Home -->
  <div class="relative rounded-xl shadow p-6 flex flex-col items-center overflow-hidden bg-gradient-to-t from-[#b6e2dd] to-[#d3f6f4]">
    <!-- Title -->
    <h2 class="text-lg font-semibold mb-4 z-10 relative">Home</h2>
    <!-- Chart Container -->
    <div class="relative w-48 h-48 z-10">
      <canvas id="homePieChart" class="absolute top-0 left-0 w-full h-full"></canvas>
    </div>
    <!-- Background Image -->
    <img
      src="/static/assets/images/summer.png" 
      class="absolute bottom-0 left-0 w-full object-contain z-0 pointer-events-none"
      alt="Home Background"
    />
  </div>

  <!-- Bottom Left: Food -->
  <div class="relative rounded-xl shadow p-6 flex flex-col items-center overflow-hidden bg-gradient-to-t from-[#ffe4d3] to-[#f8f3de]">
    <!-- Title -->
    <h2 class="text-lg font-semibold mb-4 z-10 relative">Food</h2>
    <!-- Chart Container -->
    <div class="relative w-48 h-48 z-10">
      <canvas id="foodPieChart" class="absolute top-0 left-0 w-full h-full"></canvas>
    </div>
    <!-- Background Image -->
    <img
      src="/static/assets/images/autumn.png"
      class="absolute bottom-0 left-0 w-full object-contain z-0 pointer-events-none"
      alt="Food Background"
    />
  </div>

  <!-- Bottom Right: Goods & Services -->
  <div class="relative rounded-xl shadow p-6 flex flex-col items-center overflow-hidden bg-gradient-to-t from-[#c2d7d9] to-[#faedda]">
    <!-- Title -->
    <h2 class="text-lg font-semibold mb-4 z-10 relative">Goods & Services</h2>
    <!-- Chart Container -->
    <div class="relative w-48 h-48 z-10">
      <canvas id="shoppingPieChart" class="absolute top-0 left-0 w-full h-full"></canvas>
    </div>
    <!-- Background Image -->
    <img
      src="/static/assets/images/winter.png"
      class="absolute bottom-0 left-0 w-full object-contain z-0 pointer-events-none"
      alt="Goods & Services Background"
    />
  </div>

</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script> <!-- Load Chart.js Plugin -->
<script src="{{ url_for('static', filename='js/view_data.js') }}"></script> <!-- Load Custom JS -->

{% endblock %}
