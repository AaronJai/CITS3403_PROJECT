{% macro render_password_fields(form, include_current=True) %}
{% if include_current %}
<!-- Current password -->
<div>
    {{ form.current_password.label(class="block font-medium mb-1") }}
    {{ form.current_password(class="input-field") }}
    {% if form.current_password.errors %}
    <div class="text-red-600 text-sm mt-1">
        {% for error in form.current_password.errors %}
        <span>{{ error }}</span>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endif %}

<!-- New password -->
<div>
    {{ form.new_password.label(class="block font-medium mb-1") }}
    {{ form.new_password(class="input-field") }}
    {% if form.new_password.errors %}
    <div class="text-red-600 text-sm mt-1">
        {% for error in form.new_password.errors %}
        <span>{{ error }}</span>
        {% endfor %}
    </div>
    {% endif %}
</div>

<!-- Confirm new password -->
<div>
    {{ form.confirm_password.label(class="block font-medium mb-1") }}
    {{ form.confirm_password(class="input-field") }}
    {% if form.confirm_password.errors %}
    <div class="text-red-600 text-sm mt-1">
        {% for error in form.confirm_password.errors %}
        <span>{{ error }}</span>
        {% endfor %}
    </div>
    {% endif %}
</div>
{% endmacro %}